---
import BaseLayout from '@layouts/BaseLayout.astro';
import Animation from '@components/animation.astro';
import { getCollection } from 'astro:content';
import { cn } from '@lib/utils';
import GridLayout from '@components/GridLayout.astro';
import PageTitle from '@components/PageTitle.astro';
import LinkButton from '@components/LinkButton.astro';

const animations = await getCollection('animations');
---

<BaseLayout title={'Animations'} description={'Some of my favorite animations'}>
  <div class="flex justify-between items-center mb-8">
    <PageTitle title="Animations" />
    <LinkButton href="/illustration/">‚Üê Back to Illustrations</LinkButton>
  </div>
  <section>
    <GridLayout maxColumns={3}>
      {
        animations.map((animation) => (
          <div class="flex flex-col gap-4">
            <Animation embedId={animation.data.embedId} />
            <h3 class={cn('mt-3 mb-1 text-2xl leading-1.1')}>{animation.data.title}</h3>
          </div>
        ))
      }
    </GridLayout>
  </section>
</BaseLayout>

<style>
  iframe.instagram-media {
    max-width: 100% !important;
    width: 100% !important;
    min-width: auto !important;
  }
</style>
